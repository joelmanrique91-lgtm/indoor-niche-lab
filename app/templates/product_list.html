{% extends 'base.html' %}
{% block content %}
<h1>Productos recomendados</h1>
<div class="grid">
  {% for p in products %}
  <article class="card product-list-card">
    <img
      class="catalog-product-image"
      src="{{ [
        '/static/img/generated/product_list-01-categor-a-precio-usd-tipo-ver-producto-no-hay-productos-cargados-lg.webp',
        '/static/img/generated/product_list-02-categor-a-precio-usd-tipo-ver-producto-no-hay-productos-cargados-lg.webp',
        '/static/img/generated/product_list-03-categor-a-precio-usd-tipo-ver-producto-no-hay-productos-cargados-lg.webp',
        '/static/img/generated/product_list-04-categor-a-precio-usd-tipo-ver-producto-no-hay-productos-cargados-lg.webp',
        '/static/img/generated/product_list-05-categor-a-precio-usd-tipo-ver-producto-no-hay-productos-cargados-lg.webp'
      ][loop.index0 % 5] }}"
      alt="Foto real del producto {{ p.name }} sobre fondo neutro"
      loading="lazy"
    >
    <h2>{{ p.name }}</h2>
    <p><strong>Categor√≠a:</strong> {{ p.category }}</p>
    <p><strong>Precio:</strong> USD {{ '%.2f'|format(p.price) }}</p>
    <p><strong>Tipo:</strong> {{ 'Interno' if p.internal_product else 'Afiliado' }}</p>
    <a class="btn" href="{{ p.affiliate_url }}" target="_blank">Ver producto</a>
  </article>
  {% else %}
  <p>No hay productos cargados.</p>
  {% endfor %}
</div>
{% endblock %}
