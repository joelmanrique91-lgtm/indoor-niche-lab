{% extends 'base.html' %}
{% block content %}
<h1>Productos recomendados</h1>
<div class="grid">
  {% for p in products %}
  <article class="card product-list-card">
    <img
      class="catalog-product-image"
      src="{{ [
        'https://images.unsplash.com/photo-1592841200221-a6898f307baa?auto=format&fit=crop&w=700&q=70',
        'https://images.unsplash.com/photo-1611255279432-22f2a9fb2608?auto=format&fit=crop&w=700&q=70',
        'https://images.unsplash.com/photo-1603048719539-9ecb5e3cdd1e?auto=format&fit=crop&w=700&q=70',
        'https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?auto=format&fit=crop&w=700&q=70',
        'https://images.unsplash.com/photo-1507914464562-6ff4ac29692f?auto=format&fit=crop&w=700&q=70'
      ][loop.index0 % 5] }}"
      alt="Foto real del producto {{ p.name }} sobre fondo neutro"
      loading="lazy"
    >
    <h2>{{ p.name }}</h2>
    <p><strong>Categor√≠a:</strong> {{ p.category }}</p>
    <p><strong>Precio:</strong> USD {{ '%.2f'|format(p.price) }}</p>
    <p><strong>Tipo:</strong> {{ 'Interno' if p.internal_product else 'Afiliado' }}</p>
    <a class="btn" href="{{ p.affiliate_url }}" target="_blank">Ver producto</a>
  </article>
  {% else %}
  <p>No hay productos cargados.</p>
  {% endfor %}
</div>
{% endblock %}
